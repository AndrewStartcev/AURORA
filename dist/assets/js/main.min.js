if(document.querySelector(".header-burger")){let e=500,t=!0,o=document.querySelector(".header-menu"),r=document.querySelector(".header-burger");r.addEventListener("click",(function(n){document.documentElement.classList.contains("_menu-open")?(bodyUnLock(t,!1,e),menuClose(o,r)):(bodyLock(t,!1,e),menuOpen(o,r))}))}function menuOpen(e,t){document.documentElement.classList.add("_menu-open"),e.classList.add("_open"),t.classList.add("_close")}function menuClose(e,t){document.documentElement.classList.remove("_menu-open"),e.classList.remove("_open"),t.classList.remove("_close")}const header=document.querySelector(".header"),btnScroll=document.querySelector(".btn-scroll");let scrollPrev=0;window.addEventListener("scroll",(function(e){let t=window.pageYOffset;t>100&&t>scrollPrev?header.classList.add("_fixed"):header.classList.remove("_fixed"),t>200&&t>scrollPrev?btnScroll.classList.add("_fixed"):btnScroll.classList.remove("_fixed")}));const menuLinks=document.querySelectorAll("[data-goto]");function gotoBlock(e){const t=e.target.getAttribute("data-goto"),o=document.querySelector(t);removeActiveClasses(menuLinks,"_active"),e.target.classList.add("_active"),o?(document.documentElement.classList.contains("_menu-open")&&menuClose(),window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"smooth"}),e.preventDefault()):console.log(`[gotoBlock]: Такого блока нет на странице: ${t}`)}function removeActiveClasses(e,t){for(let o=0;o<e.length;o++)e[o].classList.remove(t)}function bodyLock(e,t,o=500){const r=window.innerWidth-document.querySelector(".page").offsetWidth+"px";if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight=r}document.body.style.paddingRight=r,document.body.classList.add("_lock"),setTimeout((function(){!0}),o)}function bodyUnLock(e,t,o=500){setTimeout((function(){if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight="0px"}document.body.style.paddingRight="0px",document.body.classList.remove("_lock")}),o),setTimeout((function(){!0}),o)}function validatePhone(){document.querySelectorAll("._tel");[].forEach.call(document.querySelectorAll("._tel"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7 (___) ___ ____",r=0,n=o.replace(/\D/g,""),l=this.value.replace(/\D/g,""),s=o.replace(/[_\d]/g,(function(e){return r<l.length?l.charAt(r++)||n.charAt(r):e}));r=s.indexOf("_"),-1!=r&&(r<5&&(r=3),s=s.slice(0,r));let i=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");i=new RegExp("^"+i+"$"),(!i.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}menuLinks&&menuLinks.forEach((e=>{e.addEventListener("click",gotoBlock)})),document.querySelector(".expert-slider")&&new Swiper(".expert-slider",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:20,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".expert-slider__btn--next",prevEl:".expert-slider__btn--prev"}}),document.querySelector("._slider-video")&&new Swiper("._slider-video",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:38,speed:1e3,breakpoints:{619:{slidesPerView:2},1024:{slidesPerView:3}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".video-slider__btn--next",prevEl:".video-slider__btn--prev"}}),document.querySelector("._slider-text")&&new Swiper("._slider-text",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:70,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".text-slider__btn--next",prevEl:".text-slider__btn--prev"}}),validatePhone();let form,forms=document.querySelectorAll("._form");for(let e=0;e<forms.length;e++)form=forms[e],form.addEventListener("submit",formSend);async function formSend(e){e.preventDefault();let t=formValidate(form),o=new FormData(form);if(0===t){inputRemoveError(),document.querySelector(".req-form").classList.remove("_error");let e=await fetch("form.php",{method:"POST",body:o});if(e.ok){let t=await e.json();alert(t.message),formPreview.innerHTML="",form.reset()}else form.classList.contains("form__body"),document.querySelector(".input").classList.remove("_error"),alert("Ошибка отправки")}else document.querySelector(".req-form").classList.add("_error")}function formValidate(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const r=o[e];formRemoveError(r),r.classList.contains("_tel")&&(console.log(r.value.length),17!==r.value.length&&(formAddError(r),t++)),""===r.value&&(formAddError(r),t++),"checkbox"===r.getAttribute("type")&&!1===r.checked&&(formAddError(r),t++)}return t}function formAddError(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function formRemoveError(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}