if(document.querySelector(".header-burger")){let e=500,t=!0,o=document.querySelector(".header-menu"),s=document.querySelector(".header-burger");s.addEventListener("click",(function(r){document.documentElement.classList.contains("_menu-open")?(bodyUnLock(t,!1,e),menuClose(o,s)):(bodyLock(t,!1,e),menuOpen(o,s))}))}function menuOpen(e,t){document.documentElement.classList.add("_menu-open"),e.classList.add("_open"),t.classList.add("_close")}function menuClose(e,t){document.documentElement.classList.remove("_menu-open"),e.classList.remove("_open"),t.classList.remove("_close")}const header=document.querySelector(".header"),btnScroll=document.querySelector(".btn-scroll");let scrollPrev=0;window.scrollY>50?header.classList.add("_fixed"):header.classList.remove("_fixed"),window.addEventListener("scroll",(function(e){let t=window.pageYOffset;t>50?header.classList.add("_fixed"):header.classList.remove("_fixed"),t>200&&t>scrollPrev?btnScroll&&btnScroll.classList.add("_fixed"):btnScroll&&btnScroll.classList.remove("_fixed")}));const popupLinks=document.querySelectorAll("[data-popup]"),popupLinksClose=document.querySelectorAll(".popup__close"),popupLinksID=document.querySelectorAll("[data-popup-id]"),popupLinksImage=document.querySelectorAll("[data-popup-image]");function removeActiveClassesParent(e,t){for(let o=0;o<e.length;o++)e[o].parentElement.classList.remove(t)}if(popupLinksImage&&popupLinksImage.forEach((e=>{e.addEventListener("click",(function(t){removeActiveClassesParent(popupLinksImage,"_active"),e.parentElement.classList.add("_active");let o=t.target.getAttribute("data-image");document.querySelector(".popup .image__body").innerHTML=`<img src="${o}" alt="">`;const s=document.querySelector("#imagePopup");s?(s.classList.add("show"),bodyLock(true,[header,btnScroll],500)):console.log(`[popupBlock]:  Нет модального окна на странице: ${targetBlock}`)}))})),popupLinksID&&popupLinksID.forEach((e=>{e.addEventListener("click",(function(t){removeActiveClassesParent(popupLinksID,"_active"),e.parentElement.classList.add("_active");let o=document.querySelector(".feedbacks-video._active .feedbacks-video-code").innerHTML;document.querySelector(".popup .video__body").innerHTML=o;const s=document.querySelector("#videoPopup");s?(s.classList.add("show"),bodyLock(true,[header,btnScroll],500)):console.log(`[popupBlock]:  Нет модального окна на странице: ${targetBlock}`)}))})),popupLinks&&popupLinks.forEach((e=>{e.addEventListener("click",popupBlock)})),popupLinksClose){let e=500,t=!0;popupLinksClose.forEach((o=>{o.addEventListener("click",(function(){bodyUnLock(t,[header,btnScroll],e),o.closest(".popup").classList.remove("show")}))}))}function popupBlock(e){const t=e.target.getAttribute("data-popup"),o=document.querySelector(t);removeActiveClasses(popupLinks,"_active"),e.target.classList.add("_active"),o?(o.classList.add("show"),bodyLock(true,[header,btnScroll],500),document.documentElement.classList.add("_popup-open")):console.log(`[popupBlock]:  Нет модального окна на странице: ${t}`)}const menuLinks=document.querySelectorAll("[data-goto]");function gotoBlock(e){const t=e.target.getAttribute("data-goto"),o=document.querySelector(t);removeActiveClasses(menuLinks,"_active"),e.target.classList.add("_active"),o?(window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"smooth"}),e.preventDefault()):console.log(`[gotoBlock]: Такого блока нет на странице: ${t}`)}function removeActiveClasses(e,t){for(let o=0;o<e.length;o++)e[o].classList.remove(t)}menuLinks&&menuLinks.forEach((e=>{e.addEventListener("click",gotoBlock)}));let URL=document.location.href;function bodyLock(e,t,o=500){const s=window.innerWidth-document.querySelector(".page").offsetWidth+"px";if(t)for(let e=0;e<t.length;e++){const o=t[e];o.classList.contains("btn-scroll")?o.style.marginRight=s:o.style.paddingRight=s}document.body.style.paddingRight=s,document.body.classList.add("_lock"),setTimeout((function(){!0}),o)}function bodyUnLock(e,t,o=500){setTimeout((function(){if(t.length>0)for(let e=0;e<t.length;e++){const o=t[e];o.classList.contains("btn-scroll")?o.style.marginRight="0px":o.style.paddingRight="0px"}document.body.style.paddingRight="0px",document.body.classList.remove("_lock")}),o),setTimeout((function(){!0}),o)}function tabs(){const e=document.querySelectorAll("[data-tabs]");let t=[];if(e.length>0){const r=location.hash.replace("#","");r.startsWith("tab-")&&(t=r.replace("tab-","").split("-")),e.forEach(((e,o)=>{e.classList.add("_tab-init"),e.setAttribute("data-tabs-index",o),e.addEventListener("click",s),function(e){const o=e.querySelectorAll("[data-tabs-titles]>*"),s=e.querySelectorAll("[data-tabs-body]>*"),r=e.dataset.tabsIndex,n=t[0]==r;if(n){e.querySelector("[data-tabs-titles]>._tab-active").classList.remove("_tab-active")}s.length>0&&s.forEach(((e,s)=>{o[s].setAttribute("data-tabs-title",""),e.setAttribute("data-tabs-item",""),n&&s==t[1]&&o[s].classList.add("_tab-active"),e.hidden=!o[s].classList.contains("_tab-active")}))}(e)}));const n=Array.from(e).filter((function(e,t,o){return e.dataset.tabs}));n.length>0&&function(e){const t=[];e.forEach((e=>{const o=e.dataset.tabs,s={};s.value=o,s.item=e,t.push(s)}));let s=t.map((function(e){return`(max-width:${e.value}px),${e.value}`}));s=s.filter((function(e,t,o){return o.indexOf(e)===t})),s.forEach((e=>{const s=e.split(","),r=window.matchMedia(s[0]),n=s[1],a=t.filter((function(e){if(e.value===n)return!0}));r.addEventListener("change",(function(){o(a,r)})),o(a,r)}))}(n)}function o(e,t){e.forEach((e=>{const o=(e=e.item).querySelector("[data-tabs-titles]"),s=e.querySelectorAll("[data-tabs-title]"),r=e.querySelector("[data-tabs-body]");e.querySelectorAll("[data-tabs-item]").forEach(((n,a)=>{t.matches?(r.append(s[a]),r.append(n),e.classList.add("_tab-spoller")):(o.append(s[a]),e.classList.remove("_tab-spoller"))}))}))}function s(e){const t=e.target;if(t.closest("[data-tabs-title]")){const o=t.closest("[data-tabs-title]"),s=o.closest("[data-tabs]");if(!o.classList.contains("_tab-active")&&!s.querySelectorAll("._slide").length){const e=s.querySelector("[data-tabs-title]._tab-active");e&&e.classList.remove("_tab-active"),o.classList.add("_tab-active"),function(e){const t=e.querySelectorAll("[data-tabs-title]"),o=e.querySelectorAll("[data-tabs-item]"),s=e.dataset.tabsIndex,r=function(e){if(e.hasAttribute("data-tabs-animate"))return e.dataset.tabsAnimate>0?e.dataset.tabsAnimate:500}(e);o.length>0&&o.forEach(((e,o)=>{t[o].classList.contains("_tab-active")?(r?_slideDown(e,r):e.hidden=!1,location.hash=`tab-${s}-${o}`):r?_slideUp(e,r):e.hidden=!0}))}(s)}e.preventDefault()}}}function validatePhone(){document.querySelectorAll("._tel");[].forEach.call(document.querySelectorAll("._tel"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7 (___) ___ ____",s=0,r=o.replace(/\D/g,""),n=this.value.replace(/\D/g,""),a=o.replace(/[_\d]/g,(function(e){return s<n.length?n.charAt(s++)||r.charAt(s):e}));s=a.indexOf("_"),-1!=s&&(s<5&&(s=3),a=a.slice(0,s));let l=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");l=new RegExp("^"+l+"$"),(!l.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}URL.includes("prices")?header.classList.add("header-prices"):URL.includes("gallery")?header.classList.add("header-gallery"):URL.includes("info")?header.classList.add("header-info"):(URL.includes("articles")||URL.includes("article"))&&header.classList.add("header-articles"),document.querySelector(".expert-slider")&&new Swiper(".expert-slider",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:20,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".expert-slider__btn--next",prevEl:".expert-slider__btn--prev"}}),document.querySelector("._slider-video")&&new Swiper("._slider-video",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:38,speed:1e3,breakpoints:{619:{slidesPerView:2},1024:{slidesPerView:3}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".video-slider__btn--next",prevEl:".video-slider__btn--prev"}}),document.querySelector("._slider-text")&&new Swiper("._slider-text",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:70,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".text-slider__btn--next",prevEl:".text-slider__btn--prev"}}),window.addEventListener("DOMContentLoaded",(function(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("_show"):e.target.classList.remove("_show")}))}),{root:null,rootMargin:"-15%"});document.querySelectorAll(".tabs-gallery__image").forEach((t=>{e.observe(t)}))})),tabs(),validatePhone();let form,forms=document.querySelectorAll("._form");for(let e=0;e<forms.length;e++)form=forms[e],form.addEventListener("submit",formSend);async function formSend(e){e.preventDefault();let t=formValidate(form),o=new FormData(form);if(0===t){inputRemoveError(),document.querySelector(".req-form").classList.remove("_error");let e=await fetch("form.php",{method:"POST",body:o});if(e.ok){let t=await e.json();alert(t.message),formPreview.innerHTML="",form.reset()}else form.classList.contains("form__body"),document.querySelector(".input").classList.remove("_error"),alert("Ошибка отправки")}else document.querySelector(".req-form").classList.add("_error")}function formValidate(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const s=o[e];formRemoveError(s),s.classList.contains("_tel")&&(console.log(s.value.length),17!==s.value.length&&(formAddError(s),t++)),""===s.value&&(formAddError(s),t++),"checkbox"===s.getAttribute("type")&&!1===s.checked&&(formAddError(s),t++)}return t}function formAddError(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function formRemoveError(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}