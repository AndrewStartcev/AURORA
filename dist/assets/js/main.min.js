if(document.querySelector(".header-burger")){let e=500,t=!0,o=document.querySelector(".header-menu"),n=document.querySelector(".header-burger");n.addEventListener("click",(function(s){document.documentElement.classList.contains("_menu-open")?(bodyUnLock(t,!1,e),menuClose(o,n)):(bodyLock(t,!1,e),menuOpen(o,n))}))}function menuOpen(e,t){document.documentElement.classList.add("_menu-open"),e.classList.add("_open"),t.classList.add("_close")}function menuClose(e,t){document.documentElement.classList.remove("_menu-open"),e.classList.remove("_open"),t.classList.remove("_close")}const header=document.querySelector(".header"),btnScroll=document.querySelector(".btn-scroll");let scrollPrev=0;window.addEventListener("scroll",(function(e){let t=window.pageYOffset;t>100&&t>scrollPrev?header.classList.add("_fixed"):header.classList.remove("_fixed"),t>200&&t>scrollPrev?btnScroll&&btnScroll.classList.add("_fixed"):btnScroll&&btnScroll.classList.remove("_fixed")}));const popupLinks=document.querySelectorAll("[data-popup]"),popupLinksClose=document.querySelectorAll(".popup__close"),popupLinksID=document.querySelectorAll("[data-popup-id]"),popupLinksImage=document.querySelectorAll("[data-popup-image]");function removeActiveClassesParent(e,t){for(let o=0;o<e.length;o++)e[o].parentElement.classList.remove(t)}if(popupLinksImage&&popupLinksImage.forEach((e=>{e.addEventListener("click",(function(t){removeActiveClassesParent(popupLinksImage,"_active"),e.parentElement.classList.add("_active");let o=t.target.getAttribute("data-image");document.querySelector(".popup .image__body").innerHTML=`<img src="${o}" alt="">`;const n=document.querySelector("#imagePopup");n?(n.classList.add("show"),bodyLock(true,!1,500)):console.log(`[popupBlock]:  Нет модального окна на странице: ${targetBlock}`)}))})),popupLinksID&&popupLinksID.forEach((e=>{e.addEventListener("click",(function(t){removeActiveClassesParent(popupLinksID,"_active"),e.parentElement.classList.add("_active");let o=document.querySelector(".feedbacks-video._active .feedbacks-video-code").innerHTML;document.querySelector(".popup .video__body").innerHTML=o;const n=document.querySelector("#videoPopup");n?(n.classList.add("show"),bodyLock(true,!1,500)):console.log(`[popupBlock]:  Нет модального окна на странице: ${targetBlock}`)}))})),popupLinks&&popupLinks.forEach((e=>{e.addEventListener("click",popupBlock)})),popupLinksClose){let e=500,t=!0;popupLinksClose.forEach((o=>{o.addEventListener("click",(function(){bodyUnLock(t,!1,e),o.closest(".popup").classList.remove("show")}))}))}function popupBlock(e){const t=e.target.getAttribute("data-popup"),o=document.querySelector(t);removeActiveClasses(popupLinks,"_active"),e.target.classList.add("_active"),o?(o.classList.add("show"),bodyLock(true,!1,500),document.documentElement.classList.add("_popup-open")):console.log(`[popupBlock]:  Нет модального окна на странице: ${t}`)}const menuLinks=document.querySelectorAll("[data-goto]");function gotoBlock(e){const t=e.target.getAttribute("data-goto"),o=document.querySelector(t);removeActiveClasses(menuLinks,"_active"),e.target.classList.add("_active"),o?(window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"smooth"}),e.preventDefault()):console.log(`[gotoBlock]: Такого блока нет на странице: ${t}`)}function removeActiveClasses(e,t){for(let o=0;o<e.length;o++)e[o].classList.remove(t)}function bodyLock(e,t,o=500){const n=window.innerWidth-document.querySelector(".page").offsetWidth+"px";if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight=n}document.body.style.paddingRight=n,document.body.classList.add("_lock"),setTimeout((function(){!0}),o)}function bodyUnLock(e,t,o=500){setTimeout((function(){if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight="0px"}document.body.style.paddingRight="0px",document.body.classList.remove("_lock")}),o),setTimeout((function(){!0}),o)}function tabs(){const e=document.querySelectorAll("[data-tabs]");let t=[];if(e.length>0){const s=location.hash.replace("#","");s.startsWith("tab-")&&(t=s.replace("tab-","").split("-")),e.forEach(((e,o)=>{e.classList.add("_tab-init"),e.setAttribute("data-tabs-index",o),e.addEventListener("click",n),function(e){const o=e.querySelectorAll("[data-tabs-titles]>*"),n=e.querySelectorAll("[data-tabs-body]>*"),s=e.dataset.tabsIndex,r=t[0]==s;if(r){e.querySelector("[data-tabs-titles]>._tab-active").classList.remove("_tab-active")}n.length>0&&n.forEach(((e,n)=>{o[n].setAttribute("data-tabs-title",""),e.setAttribute("data-tabs-item",""),r&&n==t[1]&&o[n].classList.add("_tab-active"),e.hidden=!o[n].classList.contains("_tab-active")}))}(e)}));const r=Array.from(e).filter((function(e,t,o){return e.dataset.tabs}));r.length>0&&function(e){const t=[];e.forEach((e=>{const o=e.dataset.tabs,n={};n.value=o,n.item=e,t.push(n)}));let n=t.map((function(e){return`(max-width:${e.value}px),${e.value}`}));n=n.filter((function(e,t,o){return o.indexOf(e)===t})),n.forEach((e=>{const n=e.split(","),s=window.matchMedia(n[0]),r=n[1],a=t.filter((function(e){if(e.value===r)return!0}));s.addEventListener("change",(function(){o(a,s)})),o(a,s)}))}(r)}function o(e,t){e.forEach((e=>{const o=(e=e.item).querySelector("[data-tabs-titles]"),n=e.querySelectorAll("[data-tabs-title]"),s=e.querySelector("[data-tabs-body]");e.querySelectorAll("[data-tabs-item]").forEach(((r,a)=>{t.matches?(s.append(n[a]),s.append(r),e.classList.add("_tab-spoller")):(o.append(n[a]),e.classList.remove("_tab-spoller"))}))}))}function n(e){const t=e.target;if(t.closest("[data-tabs-title]")){const o=t.closest("[data-tabs-title]"),n=o.closest("[data-tabs]");if(!o.classList.contains("_tab-active")&&!n.querySelectorAll("._slide").length){const e=n.querySelector("[data-tabs-title]._tab-active");e&&e.classList.remove("_tab-active"),o.classList.add("_tab-active"),function(e){const t=e.querySelectorAll("[data-tabs-title]"),o=e.querySelectorAll("[data-tabs-item]"),n=e.dataset.tabsIndex,s=function(e){if(e.hasAttribute("data-tabs-animate"))return e.dataset.tabsAnimate>0?e.dataset.tabsAnimate:500}(e);o.length>0&&o.forEach(((e,o)=>{t[o].classList.contains("_tab-active")?(s?_slideDown(e,s):e.hidden=!1,location.hash=`tab-${n}-${o}`):s?_slideUp(e,s):e.hidden=!0}))}(n)}e.preventDefault()}}}function validatePhone(){document.querySelectorAll("._tel");[].forEach.call(document.querySelectorAll("._tel"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7 (___) ___ ____",n=0,s=o.replace(/\D/g,""),r=this.value.replace(/\D/g,""),a=o.replace(/[_\d]/g,(function(e){return n<r.length?r.charAt(n++)||s.charAt(n):e}));n=a.indexOf("_"),-1!=n&&(n<5&&(n=3),a=a.slice(0,n));let l=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");l=new RegExp("^"+l+"$"),(!l.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}menuLinks&&menuLinks.forEach((e=>{e.addEventListener("click",gotoBlock)})),document.querySelector(".expert-slider")&&new Swiper(".expert-slider",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:20,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".expert-slider__btn--next",prevEl:".expert-slider__btn--prev"}}),document.querySelector("._slider-video")&&new Swiper("._slider-video",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:38,speed:1e3,breakpoints:{619:{slidesPerView:2},1024:{slidesPerView:3}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".video-slider__btn--next",prevEl:".video-slider__btn--prev"}}),document.querySelector("._slider-text")&&new Swiper("._slider-text",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:70,speed:1e3,breakpoints:{619:{slidesPerView:2}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".text-slider__btn--next",prevEl:".text-slider__btn--prev"}}),tabs(),validatePhone();let form,forms=document.querySelectorAll("._form");for(let e=0;e<forms.length;e++)form=forms[e],form.addEventListener("submit",formSend);async function formSend(e){e.preventDefault();let t=formValidate(form),o=new FormData(form);if(0===t){inputRemoveError(),document.querySelector(".req-form").classList.remove("_error");let e=await fetch("form.php",{method:"POST",body:o});if(e.ok){let t=await e.json();alert(t.message),formPreview.innerHTML="",form.reset()}else form.classList.contains("form__body"),document.querySelector(".input").classList.remove("_error"),alert("Ошибка отправки")}else document.querySelector(".req-form").classList.add("_error")}function formValidate(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const n=o[e];formRemoveError(n),n.classList.contains("_tel")&&(console.log(n.value.length),17!==n.value.length&&(formAddError(n),t++)),""===n.value&&(formAddError(n),t++),"checkbox"===n.getAttribute("type")&&!1===n.checked&&(formAddError(n),t++)}return t}function formAddError(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function formRemoveError(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}